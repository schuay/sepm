#include <QtTest/QTest>
#include <QtTest/QSignalSpy>

#define WORKING_DIR "@WORKING_DIR@/"

#define DB_DRIVER "QPSQL"
#define DB_HOST "localhost"
#define DB_DATABASE "sdcs_test"
#define DB_USER "sdcs_test"
#define DB_PASSWORD "sdcs_test"

#define QVERIFY_THROW(expression, ExpectedExceptionType) \
do \
{ \
    bool caught_ = false; \
    try { expression; } \
    catch (ExpectedExceptionType const&) { caught_ = true; } \
    catch (...) {} \
    if (!QTest::qVerify(caught_, #expression ", " #ExpectedExceptionType, "", __FILE__, __LINE__))\
       return; \
} while(0)
